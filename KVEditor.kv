<Editor>:
    orientation: 'horizontal'

    # === Paleta de widgets ===
    BoxLayout:
        orientation: 'vertical'
        size_hint_x: 0.18
        padding: 8
        spacing: 8
        canvas.before:
            Color:
                rgba: 0.95, 0.95, 0.95, 1
            Rectangle:
                pos: self.pos
                size: self.size

        Label:
            text: "Paleta de Widgets"
            size_hint_y: None
            height: 30
            color: 0, 0, 0, 1  # texto preto

        Button:
            text: 'Botão'
            size_hint_y: None
            height: 35
            color: 0, 0, 0, 1
            on_release: root.add_widget_to_canvas('Button')

        Button:
            text: 'Label'
            size_hint_y: None
            height: 35
            color: 0, 0, 0, 1
            on_release: root.add_widget_to_canvas('Label')

        Widget:
            size_hint_y: 1

        # Separador visual
        Widget:
            size_hint_y: None
            height: 1
            canvas:
                Color:
                    rgba: 0.7, 0.7, 0.7, 1
                Rectangle:
                    pos: self.pos
                    size: self.size

        Button:
            text: 'Exportar .kv'
            size_hint_y: None
            height: 40
            color: 0, 0, 0, 1
            on_release: root.export_layout()

    # === Área do Canvas ===
    FloatLayout:
        id: canvas_area
        size_hint_x: 0.52
        canvas.before:
            Color:
                rgba: 0.9, 0.9, 0.9, 1
            Rectangle:
                pos: self.pos
                size: self.size

    # === Propriedades do widget ===
    BoxLayout:
        orientation: 'vertical'
        size_hint_x: 0.3
        padding: 8
        spacing: 8
        canvas.before:
            Color:
                rgba: 0.97, 0.97, 0.97, 1
            Rectangle:
                pos: self.pos
                size: self.size

        Label:
            id: prop_label
            text: 'Nenhum widget selecionado'
            size_hint_y: None
            height: 30
            color: 0, 0, 0, 1

        ScrollView:
            do_scroll_x: False

            BoxLayout:
                orientation: 'vertical'
                size_hint_y: None
                height: self.minimum_height
                spacing: 8

                BoxLayout:
                    orientation: 'horizontal'
                    size_hint_y: None
                    height: 30
                    Label:
                        text: "Texto:"
                        size_hint_x: 0.3
                        color: 0, 0, 0, 1
                    TextInput:
                        id: prop_text
                        multiline: False
                        on_text: root.update_selected_text(self.text)

                BoxLayout:
                    orientation: 'horizontal'
                    size_hint_y: None
                    height: 30
                    Label:
                        text: "ID:"
                        size_hint_x: 0.3
                        color: 0, 0, 0, 1
                    TextInput:
                        id: prop_id
                        multiline: False
                        on_text: root.update_selected_id(self.text)

                BoxLayout:
                    orientation: 'horizontal'
                    size_hint_y: None
                    height: 30
                    Label:
                        text: "Largura:"
                        size_hint_x: 0.3
                        color: 0, 0, 0, 1
                    TextInput:
                        id: prop_width
                        multiline: False
                        input_filter: 'int'
                        on_text: root.update_selected_width(self.text)

                BoxLayout:
                    orientation: 'horizontal'
                    size_hint_y: None
                    height: 30
                    Label:
                        text: "Altura:"
                        size_hint_x: 0.3
                        color: 0, 0, 0, 1
                    TextInput:
                        id: prop_height
                        multiline: False
                        input_filter: 'int'
                        on_text: root.update_selected_height(self.text)

                # Separador visual
                Widget:
                    size_hint_y: None
                    height: 1
                    canvas:
                        Color:
                            rgba: 0.7, 0.7, 0.7, 1
                        Rectangle:
                            pos: self.pos
                            size: self.size

                Button:
                    text: "Cor do Texto"
                    size_hint_y: None
                    height: 40
                    color: 0, 0, 0, 1
                    on_release: root.open_color_picker()

                Button:
                    text: "Cor do Fundo"
                    size_hint_y: None
                    height: 40
                    color: 0, 0, 0, 1
                    on_release: root.open_color_picker('background')
